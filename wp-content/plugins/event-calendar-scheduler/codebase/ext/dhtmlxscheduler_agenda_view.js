scheduler.date.add_agenda=function(A){return(new Date(A.valueOf()))};scheduler.dblclick_dhx_agenda_area=function(){if(!this.config.readonly&&this.config.dblclick_create){this.addEventNow()}};scheduler.templates.agenda_time=function(C,A,B){if(B._timed){return this.day_date(B.start_date,B.end_date,B)+" "+this.event_date(C)}else{return scheduler.templates.day_date(C)+" &ndash; "+scheduler.templates.day_date(A)}};scheduler.templates.agenda_text=function(C,A,B){return B.text};scheduler.date.agenda_start=function(A){return A};scheduler.attachEvent("onTemplatesReady",function(){scheduler.attachEvent("onSchedulerResize",function(){if(this._mode=="agenda"){this.agenda_view(true);return false}return true});var B=scheduler.render_data;scheduler.render_data=function(E){if(this._mode=="agenda"){C()}else{return B.apply(this,arguments)}};var A=scheduler.render_view_data;scheduler.render_view_data=function(){if(this._mode=="agenda"){scheduler._agendaScrollTop=scheduler._els.dhx_cal_data[0].childNodes[0].scrollTop;scheduler._els.dhx_cal_data[0].childNodes[0].scrollTop=0;scheduler._els.dhx_cal_data[0].style.overflowY="hidden"}else{scheduler._els.dhx_cal_data[0].style.overflowY="auto"}return A.apply(this,arguments)};function D(F){if(F){var E=scheduler.locale.labels;scheduler._els.dhx_cal_header[0].innerHTML="<div class='dhx_agenda_line'><div>"+E.date+"</div><span style='padding-left:25px'>"+E.description+"</span></div>";scheduler._table_view=true;scheduler.set_sizes()}}function C(){var E=scheduler._date;var M=scheduler.get_visible_events();M.sort(function(O,N){return O.start_date>N.start_date?1:-1});var I="<div class='dhx_agenda_area'>";for(var G=0;G<M.length;G++){var J=M[G];var K=(J.color?("background-color:"+J.color+";"):"");var F=(J.textColor?("color:"+J.textColor+";"):"");var H=scheduler.templates.event_class(J.start_date,J.end_date,J);I+="<div class='dhx_agenda_line"+(H?" "+H:"")+"' event_id='"+J.id+"' style='"+F+""+K+""+(J._text_style||"")+"'><div class='dhx_agenda_event_time'>"+scheduler.templates.agenda_time(J.start_date,J.end_date,J)+"</div>";I+="<div class='dhx_event_icon icon_details'>&nbsp</div>";I+="<span>"+scheduler.templates.agenda_text(J.start_date,J.end_date,J)+"</span></div>"}I+="<div class='dhx_v_border'></div></div>";scheduler._els.dhx_cal_data[0].innerHTML=I;scheduler._els.dhx_cal_data[0].childNodes[0].scrollTop=scheduler._agendaScrollTop||0;var L=scheduler._els.dhx_cal_data[0].firstChild.childNodes;scheduler._els.dhx_cal_date[0].innerHTML="";scheduler._rendered=[];for(var G=0;G<L.length-1;G++){scheduler._rendered[G]=L[G]}}scheduler.agenda_view=function(E){scheduler._min_date=scheduler.config.agenda_start||(new Date());scheduler._max_date=scheduler.config.agenda_end||(new Date(9999,1,1));scheduler._table_view=true;D(E);if(E){C()}else{}}});