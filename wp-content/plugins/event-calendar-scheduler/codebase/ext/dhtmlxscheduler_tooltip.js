window.dhtmlXTooltip={};dhtmlXTooltip.config={className:"dhtmlXTooltip tooltip",timeout_to_display:50,delta_x:15,delta_y:-20};dhtmlXTooltip.tooltip=document.createElement("div");dhtmlXTooltip.tooltip.className=dhtmlXTooltip.config.className;dhtmlXTooltip.show=function(B,N){var A=dhtmlXTooltip;var H=this.tooltip;var L=H.style;A.tooltip.className=A.config.className;var K=this.position(B);var G=B.target||B.srcElement;if(this.isTooltip(G)){return }var M=0;var C=0;var E=scheduler._obj;if(E.offsetParent){do{M+=E.offsetLeft;C+=E.offsetTop}while(E=E.offsetParent)}var J=K.x+(A.config.delta_x||0)-M;var I=K.y-(A.config.delta_y||0)-C;L.visibility="hidden";if(L.removeAttribute){L.removeAttribute("right");L.removeAttribute("bottom")}else{L.removeProperty("right");L.removeProperty("bottom")}L.left="0";L.top="0";this.tooltip.innerHTML=N;scheduler._obj.appendChild(this.tooltip);var F=this.tooltip.offsetWidth;var D=this.tooltip.offsetHeight;if((scheduler._obj.offsetWidth-J-(scheduler.xy.margin_left||0)-F)<0){if(L.removeAttribute){L.removeAttribute("left")}else{L.removeProperty("left")}L.right=(scheduler._obj.offsetWidth-J+2*(A.config.delta_x||0))+"px"}else{if(J<0){L.left=(K.x+Math.abs(A.config.delta_x||0))+"px"}else{L.left=J+"px"}}if((scheduler._obj.offsetHeight-I-(scheduler.xy.margin_top||0)-D)<0){if(L.removeAttribute){L.removeAttribute("top")}else{L.removeProperty("top")}L.bottom=(scheduler._obj.offsetHeight-I-2*(A.config.delta_y||0))+"px"}else{if(I<0){L.top=(K.y+Math.abs(A.config.delta_y||0))+"px"}else{L.top=I+"px"}}L.visibility="visible"};dhtmlXTooltip.hide=function(){if(this.tooltip.parentNode){this.tooltip.parentNode.removeChild(this.tooltip)}};dhtmlXTooltip.delay=function(D,B,C,A){if(this.tooltip._timeout_id){window.clearTimeout(this.tooltip._timeout_id)}this.tooltip._timeout_id=setTimeout(function(){var E=D.apply(B,C);D=B=C=null;return E},A||this.config.timeout_to_display)};dhtmlXTooltip.isTooltip=function(B){var A=false;while(B&&!A){A=(B.className==this.tooltip.className);B=B.parentNode}return A};dhtmlXTooltip.position=function(A){A=A||window.event;if(A.pageX||A.pageY){return{x:A.pageX,y:A.pageY}}var B=((window._isIE)&&(document.compatMode!="BackCompat"))?document.documentElement:document.body;return{x:A.clientX+B.scrollLeft-B.clientLeft,y:A.clientY+B.scrollTop-B.clientTop}};scheduler.attachEvent("onMouseMove",function(E,G){var D=window.event||G;var F=D.target||D.srcElement;var B=dhtmlXTooltip;if(E||B.isTooltip(F)){var C=scheduler.getEvent(E)||scheduler.getEvent(B.tooltip.event_id);if(!C){return }B.tooltip.event_id=C.id;var H=scheduler.templates.tooltip_text(C.start_date,C.end_date,C);if(!H){return B.hide()}var A=undefined;if(_isIE){A=document.createEventObject(D)}if(!scheduler.callEvent("onBeforeTooltip",[E,C])||!H){return }B.delay(B.show,B,[(A||D),H])}else{B.delay(B.hide,B,[])}});scheduler.attachEvent("onBeforeDrag",function(){dhtmlXTooltip.hide();return true});scheduler.templates.tooltip_date_format=scheduler.date.date_to_str("%Y-%m-%d %H:%i");scheduler.templates.tooltip_text=function(C,A,B){return"<b>Event:</b> "+B.text+"<br/><b>Start date:</b> "+scheduler.templates.tooltip_date_format(C)+"<br/><b>End date:</b> "+scheduler.templates.tooltip_date_format(A)};