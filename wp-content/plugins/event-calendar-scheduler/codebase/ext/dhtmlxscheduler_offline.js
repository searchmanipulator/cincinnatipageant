scheduler.load=function(A,C){if(typeof C=="string"){this._process=C;var B=C;C=arguments[2]}this._load_url=A;this._after_call=C;if(A.$proxy){A.load(this,typeof B=="string"?B:null);return }this._load(A,this._date)};scheduler._dp_init_backup=scheduler._dp_init;scheduler._dp_init=function(A){A._sendData=function(C,F){if(!C){return }if(!this.callEvent("onBeforeDataSending",F?[F,this.getState(F),C]:[null,null,C])){return false}if(F){this._in_progress[F]=(new Date()).valueOf()}if(this.serverProcessor.$proxy){var G=this._tMode!="POST"?"get":"post";var E=[];for(var D in C){E.push({id:D,data:C[D],operation:this.getState(D)})}this.serverProcessor._send(E,G,this);return }var B=new dtmlXMLLoaderObject(this.afterUpdate,this,true);var H=this.serverProcessor+(this._user?(getUrlSymbol(this.serverProcessor)+["dhx_user="+this._user,"dhx_version="+this.obj.getUserData(0,"version")].join("&")):"");if(this._tMode!="POST"){B.loadXML(H+((H.indexOf("?")!=-1)?"&":"?")+this.serialize(C,F))}else{B.loadXML(H,true,this.serialize(C,F))}this._waitMode++};A._updatesToParams=function(C){var B={};for(var D=0;D<C.length;D++){B[C[D].id]=C[D].data}return this.serialize(B)};A._processResult=function(F,C,B){if(B.status!=200){for(var D in this._in_progress){var E=this.getState(D);this.afterUpdateCallback(D,D,E,null)}return }C=new dtmlXMLLoaderObject(function(){},this,true);C.loadXMLString(F);C.xmlDoc=B;this.afterUpdate(this,null,null,null,C)};this._dp_init_backup(A)};if(window.dataProcessor){dataProcessor.prototype.init=function(A){this.init_original(A);A._dataprocessor=this;this.setTransactionMode("POST",true);if(!this.serverProcessor.$proxy){this.serverProcessor+=(this.serverProcessor.indexOf("?")!=-1?"&":"?")+"editing=true"}}};